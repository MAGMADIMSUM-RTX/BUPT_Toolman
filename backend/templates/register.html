<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>完成注册</title>
    <style>
        /* Reset & Base */
        body { margin: 0; padding: 0; background-color: #f3f4f6; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif; -webkit-font-smoothing: antialiased; color: #374151; }
        table { border-spacing: 0; width: 100%; }
        td { padding: 0; color: #374151; }
        img { border: 0; }
        a { text-decoration: none; color: #4f46e5; }
        
        /* Wrapper */
        .wrapper { width: 100%; table-layout: fixed; background-color: #f3f4f6; padding-bottom: 60px; }
        
        /* Main Container */
        .main-container { margin: 0 auto; width: 100%; max-width: 600px; }
        
        /* Card */
        .card { background-color: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); margin-top: 40px; }
        
        /* Header */
        .header { padding: 48px 40px 24px; text-align: center; background: linear-gradient(to bottom, #ffffff, #fafafa); }
        .logo { height: 48px; width: auto; display: block; margin: 0 auto; }
        .app-name-text { font-size: 28px; font-weight: 800; color: #4f46e5 !important; letter-spacing: -0.5px; }
        
        /* Content */
        .content { padding: 0 48px 48px; text-align: left; }
        h1 { font-size: 24px; font-weight: 700; color: #111827 !important; margin: 0 0 24px; text-align: center; }
        p { margin: 0 0 24px; font-size: 16px; line-height: 1.6; color: #4b5563 !important; }
        
        /* Button */
        .btn-container { text-align: center; margin: 32px 0 40px; }
        .btn { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 16px 36px; border-radius: 50px; font-weight: 600; font-size: 16px; box-shadow: 0 4px 6px rgba(79, 70, 229, 0.25); transition: background-color 0.2s; }
        .btn:hover { background-color: #4338ca; }
        
        /* Divider */
        .divider { height: 1px; background-color: #e5e7eb; margin: 32px 0; border: none; }
        
        /* Link Fallback */
        .link-fallback { font-size: 13px; color: #9ca3af !important; word-break: break-all; line-height: 1.5; background-color: #f9fafb; padding: 16px; border-radius: 8px; border: 1px dashed #e5e7eb; }
        .link-fallback p { margin: 0; color: #9ca3af !important; }
        .link-fallback a { color: #6b7280 !important; text-decoration: underline; }

        /* Footer */
        .footer { text-align: center; padding-top: 32px; color: #9ca3af !important; font-size: 13px; line-height: 1.5; }
        .footer p { margin: 4px 0; font-size: 13px; color: #9ca3af !important; }
        .footer a { color: #6b7280 !important; text-decoration: underline; }

        /* Mobile */
        @media screen and (max-width: 600px) {
            .wrapper { padding-bottom: 20px; }
            .card { margin-top: 20px; border-radius: 0; box-shadow: none; }
            .header { padding: 32px 24px 16px; }
            .content { padding: 0 24px 32px; }
            .btn { width: 100%; box-sizing: border-box; }
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%">
            <tr>
                <td align="center">
                    <div class="main-container">
                        <!-- Card -->
                        <div class="card">
                            <div class="header">
                                {% if logo_url %}
                                <img src="{{ logo_url }}" alt="{{ app_name or 'App' }}" class="logo">
                                {% else %}
                                <div class="app-name-text">{{ app_name or 'APP' }}</div>
                                {% endif %}
                            </div>
                            
                            <div class="content">
                                <h1>欢迎加入！</h1>
                                <p>你好，<strong>{{ user_name or '新朋友' }}</strong>：</p>
                                <p>感谢你注册 <strong>{{ app_name or '我们的应用' }}</strong>。为了保障你的账号安全，我们需要验证你的电子邮箱地址。</p>
                                <p>请点击下方的按钮完成验证，此链接将在 24 小时后失效。</p>
                                
                                <div class="btn-container">
                                    <a href="{{ confirmation_url }}" class="btn" target="_blank">验证我的邮箱</a>
                                </div>
                                
                                <p style="font-size: 14px; color: #6b7280; text-align: center;">如果你没有创建账号，请忽略此邮件，不会有任何事情发生。</p>
                                
                                <div class="divider"></div>
                                
                                <div class="link-fallback">
                                    <p style="margin: 0 0 8px; font-weight: 600; color: #6b7280;">按钮无法点击？</p>
                                    <p style="margin: 0;">请复制以下链接并在浏览器中打开：<br>
                                    <a href="{{ confirmation_url }}">{{ confirmation_url }}</a></p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Footer -->
                        <div class="footer">
                            <p>&copy; {{ current_year or 2025 }} {{ app_name or '我们的应用' }}. 保留所有权利。</p>
                            <p>此邮件由系统自动发送，请勿回复。</p>
                            <p>如需帮助，请联系 <a href="mailto:{{ support_email }}">{{ support_email }}</a></p>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</body>
</html>
